<p class="text-xs-center">Регистрация для получения доступа</p>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
	<div
		class="form-group"
		[ngClass]="{'has-error': form.get('email').touched && form.get('email').invalid}"
	>
		<label for="email">Email</label>

		<input
			type="text"
			class="form-control underlined"
			id="email"
			placeholder="Введите email"
			formControlName="email"
		>

		<span
			*ngIf="form.get('email').touched && form.get('email').invalid"
			class="form-help-text"
		>
			<ng-container *ngIf="form.get('email')['errors']['required']">Email не может быть пустым.</ng-container>
			<ng-container *ngIf="form.get('email')['errors']['email']">Введите корректный email.</ng-container>
			<ng-container *ngIf="form.get('email')['errors']['emailIsUsed']">Email уже занят.</ng-container>
		</span>
	</div>

	<div
		class="form-group"
		[ngClass]="{'has-error': form.get('password').touched && form.get('password').invalid}"
	>
		<label for="password">Пароль</label>

		<input
			type="password"
			class="form-control underlined"
			id="password"
			placeholder="Введите пароль"
			formControlName="password"
		>

		<span
			*ngIf="form.get('password').touched && form.get('password').invalid"
			class="form-help-text"
		>
			<ng-container *ngIf="form.get('password')['errors']['required']">Пароль не может быть пустым.</ng-container>
			<ng-container *ngIf="form.get('password')['errors']['minlength'] && form.get('password')['errors']['minlength']['requiredLength']">
				Пароль должен быть больше {{ form.get('password')['errors']['minlength']['requiredLength'] }}-ти символов.
				Сейчас {{ form.get('password')['errors']['minlength']['actualLength'] }}
			</ng-container>
		</span>
	</div>

	<div
		class="form-group"
		[ngClass]="{'has-error': form.get('name').touched && form.get('name').invalid}"
	>
		<label for="name">Имя</label>

		<input
			type="text"
			class="form-control underlined"
			id="name"
			placeholder="Введите имя"
			formControlName="name"
		>

		<span
			*ngIf="form.get('name').touched && form.get('name').invalid"
			class="form-help-text"
		>
			Имя не может быть пустым.
		</span>
	</div>

	<div
		class="form-group"
		[ngClass]="{'has-error': form.get('agree').invalid}"
	>
		<label for="agree">
			<input
				class="checkbox"
				id="agree"
				type="checkbox"
				formControlName="agree"
			>

			<span>Согласен с правилами</span>
		</label>
	</div>

	<div class="form-group">
		<button
			type="submit"
			class="btn btn-block btn-primary"
			[disabled]="form.invalid"
		>
			Зарегистрироваться
		</button>
	</div>

	<div class="form-group">
		<p class="text-muted text-xs-center">
			Уже есть аккаунт?
			<a [routerLink]="'/login'">Войти!</a>
		</p>
	</div>
</form>
